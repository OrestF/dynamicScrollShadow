function setShadows(o){var t=$("[data-shadow]"),s=$(window).height()/2;t.each(function(o){var t=this;if($(t).isInViewport()){var a=Math.round($(t).offset().top-(window.scrollY||window.pageYOffset||document.body.scrollTop)),i=a+$(t).height()/2,n=$(t).css("box-shadow"),h=Math.abs($(t).attr("data-shadow")),d=n.split(" "),w=Math.round(100/s*i);d[5]=Math.round(h/100*(100-w))+"px";var r=d.join(" ");$(t).css("box-shadow",r)}})}$.fn.isInViewport=function(){var o=$(this).offset().top-30,t=o+$(this).outerHeight()+60,s=$(window).scrollTop(),a=s+$(window).height();return t>s&&o<a},$(window).on("load scroll",function(){setShadows()});